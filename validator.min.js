var v=function(){function i(e){var o=this;this.form=e.form,this.message=e.message,this.validationEvent=e.validationEvent,o.form.submit(function(i){o.validate(i)}),this.validations={},this.addValidationForField=function(i,t){var a=i.get(0).id,e=0,d=!1;for(field in o.validations){if(field===a){d=!0;for(var r=!1,n=0;n<o.validations[a].length;n++)o.validations[a][n].validationType===t.validationType&&(r=!0);r||o.validations[a].push(t)}e++}0!==e&&d||(o.validations[a]=[t])},this.removeValidationForField=function(i,t){var a=i.get(0).id;for(field in o.validations)if(field===a)for(var e=0;e<o.validations[a].length;e++)o.validations[a][e].validationType===t&&o.validations[a].splice(e,1)},this.addValidation=function(e){for(var d=0;d<e.validations.length;d++)o.addValidationForField(e.field,new t({field:e.field,validationType:e.validations[d].validationType,parameters:e.validations[d].parameters,message:e.validations[d].message}));var r=function(i,t){for(var a=!0,e=o.validations[t],d=[],r=0;r<e.length;r++){var n=e[r],l=n.validate();o.callValidationFunctions({event:i,validation:n,field:n.field,message:n.message},l),l||(a=!1),void 0!==n.mensaje&&d.push(n.mensaje)}o.callFieldFunctions({event:i,field:n.field,messages:d},a)};switch(o.validationEvent){case i.prototype.VALIDATOR_SUBMIT:break;case i.prototype.VALIDATE_ON_BLUR:for(field in o.validations)if(field===e.field.get(0).id){var n=a(e.field);"div"===n?e.field.find("input").blur(function(i){r(i,e.field.get(0).id)}):e.field.blur(function(i){r(i,e.field.get(0).id)})}break;case i.prototype.VALIDATE_ON_CHANGE:for(field in o.validations)if(field===e.field.get(0).id){var n=a(e.field);"text"===n||"password"===n||"number"===n||"email"===n?e.field.keyup(function(i){r(i,e.field.get(0).id)}):e.field.change(function(i){r(i,e.field.get(0).id)})}}},this.validValidation=e.validValidation,this.invalidValidation=e.invalidValidation,this.validField=e.validField,this.invalidField=e.invalidField,this.validForm=e.validForm,this.invalidForm=e.invalidForm,this.validate=function(i){var t=!0;for(field in o.validations){for(var a=!0,e=[],d=o.validations[field],r=null,n=0;n<d.length;n++){var l=d[n];r=l.field;var p=l.validate();o.callValidationFunctions({event:i,validation:l,field:l.field,message:l.message},p),p||(a=!1,void 0!==l.message&&e.push(l.message))}o.callFieldFunctions({event:i,field:r,messages:e},a),a||(t=!1)}return o.callFormFunctions({event:i,validator:o,form:o.form},t),t},this.callValidationFunctions=function(i,t){t?void 0!==o.validValidation&&o.validValidation(i):void 0!==o.invalidValidation&&o.invalidValidation(i)},this.callFieldFunctions=function(i,t){t?void 0!==o.validField&&o.validField(i):void 0!==o.invalidField&&o.invalidField(i)},this.callFormFunctions=function(i,t){t?void 0!==o.validForm&&o.validForm(i):(void 0!==i.event&&i.event.preventDefault(),void 0!==o.invalidForm&&o.invalidForm(i))}}function t(i){var e=this;this.field=i.field,this.fieldType=null!==e.field&&void 0!==e.field?a(e.field):void 0,this.validationType=i.validationType,this.parameters=i.parameters,e.validationType===t.prototype.VALIDATION_TYPE_CUSTOM&&void 0!==e.parameters.validationId&&void 0!==e.parameters.validationMethod&&t.prototype.addCustomValidation({validationId:e.parameters.validationId,validationMethod:e.parameters.validationMethod}),this.message=i.message,this.validate=function(){var i=e.field.val().trim();switch(e.validationType){case t.prototype.VALIDATION_TYPE_REQUIRED:return"text"===e.fieldType||"password"===e.fieldType||"number"===e.fieldType||"email"===e.fieldType?i.length>0:"select"===e.fieldType?parseInt(i)>-1:!1;case t.prototype.VALIDATION_TYPE_NUMBER:return!isNaN(i);case t.prototype.VALIDATION_TYPE_INT:return isNaN(i)?!1:/^-?\d+?$/.test(i);case t.prototype.VALIDATION_TYPE_DECIMAL:return isNaN(i)?!1:/^-?\d+(\.\d+)?$/.test(i);case t.prototype.VALIDATION_TYPE_LENGTH:var a=i.length;if(void 0===e.parameters)return!1;var o=e.parameters.min,d=e.parameters.max;return void 0===o&&void 0===d?!1:void 0!==o&&o>a?!1:void 0!==d&&a>d?!1:!0;case t.prototype.VALIDATION_TYPE_VALUE:if(isNaN(i))return!1;var r=parseInt(i),o=e.parameters.min,d=e.parameters.max;return void 0===o&&void 0===d?!1:void 0!==o&&o>r?!1:void 0!==d&&r>d?!1:!0;case t.prototype.VALIDATION_TYPE_EMAIL:return/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(i);case t.prototype.VALIDATION_TYPE_RADIO_GROUP:if(void 0===e.parameters.groupName)return!1;var n=e.parameters.groupName,l=!1;return $("input[type='radio'][name='"+n+"']").each(function(){$(this).is(":checked")&&(l=!0)}),l;case t.prototype.VALIDATION_TYPE_GROUP:if(void 0===e.parameters.groupName)return!1;if(void 0===e.parameters.groupType)return!1;var p=e.parameters.groupType,n=e.parameters.groupName,s=0;$("input[type='"+p+"'][name='"+n+"']").each(function(){$(this).is(":checked")&&s++});var o=e.parameters.min,d=e.parameters.max;return void 0===o&&void 0===d?s>=1:void 0!==o&&o>s?!1:void 0!==d&&s>d?!1:!0;case t.prototype.VALIDATION_TYPE_CHECKBOX_GROUP:if(void 0===e.parameters.groupName)return!1;var n=e.parameters.groupName,s=0;$("input[type='checkbox'][name='"+n+"']").each(function(){$(this).is(":checked")&&s++});var o=e.parameters.min,d=e.parameters.max;return void 0===o&&void 0===d?s>=1:void 0!==o&&o>s?!1:void 0!==d&&s>d?!1:!0;case t.prototype.VALIDATION_TYPE_CUSTOM:var v=e.parameters.validationId;if(void 0===v)return!1;var I=t.prototype.getCustomValidation(v);return void 0===I||null===I?!1:t.prototype.getCustomValidation(v).validationMethod(e.field);default:return!1}}}function a(i){return"input"===i.get(0).tagName.toLowerCase()?i.get(0).type.toLowerCase():i.get(0).tagName.toLowerCase()}var e={};return i.prototype.VALIDATE_ON_SUBMIT=0,i.prototype.VALIDATE_ON_BLUR=1,i.prototype.VALIDATE_ON_CHANGE=2,t.prototype.VALIDATION_TYPE_REQUIRED=0,t.prototype.VALIDATION_TYPE_LENGTH=2,t.prototype.VALIDATION_TYPE_NUMBER=1,t.prototype.VALIDATION_TYPE_INT=9,t.prototype.VALIDATION_TYPE_DECIMAL=7,t.prototype.VALIDATION_TYPE_VALUE=3,t.prototype.VALIDATION_TYPE_EMAIL=4,t.prototype.VALIDATION_TYPE_GROUP=8,t.prototype.VALIDATION_TYPE_RADIO_GROUP=5,t.prototype.VALIDATION_TYPE_CHECKBOX_GROUP=6,t.prototype.VALIDATION_TYPE_CUSTOM=10,t.prototype.customValidations=[],t.prototype.addCustomValidation=function(i){null===t.prototype.getCustomValidation(i.validationId)&&t.prototype.customValidations.push({validationId:i.validationId,validationMethod:i.validationMethod})},t.prototype.getCustomValidation=function(i){for(var a=0;a<t.prototype.customValidations.length;a++){var e=t.prototype.customValidations[a];if(i===e.validationId)return e}return null},t.prototype.removeCustomValidation=function(i){for(var a=0;a<t.prototype.customValidations.length;a++){var e=t.prototype.customValidations[a];if(i===e.validationId)return t.prototype.customValidations.slice(a,1),!0}return!1},e.create=function(t,a,o){e.validator=new i({form:t,validationEvent:a,message:o.message,validValidation:o.validValidation,invalidValidation:o.invalidValidation,validField:o.validField,invalidField:o.invalidField,validForm:o.validForm,invalidForm:o.invalidForm})},e.addValidation=function(i,t,a,o){e.validator.addValidation({field:i,validations:[{validationType:t,parameters:a,message:o}]})},e.removeValidation=function(i,t){e.validator.removeValidationForField(i,t)},e.addCustomValidation=function(i,a){t.prototype.addCustomValidation({validationId:i,validationMethod:a})},e.getCustomValidation=function(i){return t.prototype.getCustomValidation(i)},e.removeCustomValidation=function(i){return t.prototype.removeCustomValidation(i)},e.VALIDATE_ON_SUBMIT=i.prototype.VALIDATE_ON_SUBMIT,e.VALIDATE_ON_BLUR=i.prototype.VALIDATE_ON_BLUR,e.VALIDATE_ON_CHANGE=i.prototype.VALIDATE_ON_CHANGE,e.VALIDATION_TYPE_REQUIRED=t.prototype.VALIDATION_TYPE_REQUIRED,e.VALIDATION_TYPE_LENGTH=t.prototype.VALIDATION_TYPE_LENGTH,e.VALIDATION_TYPE_NUMBER=t.prototype.VALIDATION_TYPE_NUMBER,e.VALIDATION_TYPE_INT=t.prototype.VALIDATION_TYPE_INT,e.VALIDATION_TYPE_DECIMAL=t.prototype.VALIDATION_TYPE_DECIMAL,e.VALIDATION_TYPE_VALUE=t.prototype.VALIDATION_TYPE_VALUE,e.VALIDATION_TYPE_EMAIL=t.prototype.VALIDATION_TYPE_EMAIL,e.VALIDATION_TYPE_GROUP=t.prototype.VALIDATION_TYPE_GROUP,e.VALIDATION_TYPE_RADIO_GROUP=t.prototype.VALIDATION_TYPE_RADIO_GROUP,e.VALIDATION_TYPE_CHECKBOX_GROUP=t.prototype.VALIDATION_TYPE_CHECKBOX_GROUP,e.VALIDATION_TYPE_CUSTOM=t.prototype.VALIDATION_TYPE_CUSTOM,e}();