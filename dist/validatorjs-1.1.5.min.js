var ValidatorJS=function(){function t(r){function o(i){if(i===t.prototype.VALIDATE_ON_FORM_SUBMIT){if(void 0===d.trigger||"form"!==d.trigger[0].tagName.toLowerCase())throw"No validation event callback found correct for VALIDATE_ON_FORM_SUBMIT validation type";d.trigger.submit(function(t){d.validate(t,i)})}else if(i===t.prototype.VALIDATE_ON_BUTTON_CLICK){if(void 0===d.trigger||!a(d.trigger[0].tagName.toLowerCase(),["button","input"]))throw"No validation event callback found correct for VALIDATE_ON_BUTTON_CLICK validation type";var o=!0;"input"!==d.trigger[0].tagName.toLowerCase()||a(e(d.trigger).toLowerCase(),["button","submit"])||(o=!1),o&&d.trigger.click(function(t){d.validate(t,i)})}else{if(i!==t.prototype.VALIDATE_ON_CUSTOM_EVENT)throw"No validation event trigger found. Given: "+i;if(void 0===r.validationCustomEvent||"function"!==(typeof r.validationCustomEvent).toLowerCase())throw"No validation event callback found correct for VALIDATE_ON_CUSTOM_EVENT validation type";r.validationCustomEvent(d.validate)}}var d=this;this.trigger=r.form||r.button||void 0,this.message=r.message,this.validationTriggers=r.triggers||[],this.before=r.before,this.after=r.after,this.validationTriggersForFields={},this.validations={},this.addValidationForField=function(t,i){var e=t.get(0).id,a=0,r=!1;for(var o in d.validations){if(o===e){r=!0;for(var n=!1,l=0;l<d.validations[e].length;l++)d.validations[e][l].validationType===i.validationType&&(n=!0);n||d.validations[e].push(i)}a++}0!==a&&r||(d.validations[e]=[i])},this.getValidation=function(t,i){var e=t.get(0).id;for(var a in d.validations)if(a===e)for(var r=0;r<d.validations[e].length;r++)if(d.validations[e][r].validationType===i)return d.validations[e][r];return null},this.hasValidation=function(t,i){return null!==d.getValidation(t,i)},this.removeValidationForField=function(t,i){var e=t.get(0).id;for(var a in d.validations)if(a===e)for(var r=0;r<d.validations[e].length;r++)d.validations[e][r].validationType===i&&d.validations[e].splice(r,1)},this.addValidation=function(a){for(var r=0;r<a.validations.length;r++)d.addValidationForField(a.field,new i({field:a.field,validationType:a.validations[r].validationType,parameters:a.validations[r].parameters,validator:d,message:a.validations[r].message}));for(var o=function(t,i){for(var e=!0,a=d.validations[i],r=[],o=0;o<a.length;o++){var n=a[o],l=n.validate();d.callValidationFunctions({event:t,validation:n,field:n.field,message:n.message},l),l||(e=!1),void 0!==n.message&&l===!1&&r.push(n.message)}d.callFieldFunctions({event:t,field:n.field,messages:r},e)},r=0;r<d.validationTriggers.length;r++){var n=d.validationTriggers[r],l=!1;for(var s in d.validationTriggersForFields)if(s===a.field.get(0).id)for(var v=0;v<d.validationTriggersForFields[s].length;v++)d.validationTriggersForFields[s][v]===n&&(l=!0);if(l===!1){switch(n){case t.prototype.VALIDATOR_SUBMIT:break;case t.prototype.VALIDATE_ON_FIELD_BLUR:for(var p in d.validations)if(p===a.field.get(0).id){var T=e(a.field);"div"===T?a.field.find("input").blur(function(t){o(t,a.field.get(0).id)}):a.field.blur(function(t){o(t,a.field.get(0).id)})}break;case t.prototype.VALIDATE_ON_FIELD_CHANGE:for(p in d.validations)if(p===a.field.get(0).id){var T=e(a.field);a.field.change(function(t){o(t,a.field.get(0).id)})}}void 0===d.validationTriggersForFields[a.field.get(0).id]?d.validationTriggersForFields[a.field.get(0).id]=[n]:d.validationTriggersForFields[a.field.get(0).id].push(n)}}},this.addValidationTrigger=function(t){for(var i=0;i<d.validationTriggers.length;i++)if(t===d.validationTriggers[i])return!1;return d.validationTriggers.push(t),o(t),!0},this.validValidation=r.validValidation,this.invalidValidation=r.invalidValidation,this.validField=r.validField,this.invalidField=r.invalidField,this.validForm=r.validForm,this.invalidForm=r.invalidForm,this.validate=function(i,e){var a=!0;if(void 0!==d.before){var r=[];for(var o in d.validations)r.push(o);d.before({event:i,fields:r,trigger:e})}for(var n in d.validations){var l=d.validations[n];if(0!==l.length){for(var s=!0,v=[],p=null,T=0;T<l.length;T++){var _=l[T];p=_.field;var u=_.validate();d.callValidationFunctions({event:i,validation:_,field:_.field,message:_.message},u),u||(s=!1,void 0!==_.message&&u===!1&&v.push(_.message))}d.callFieldFunctions({event:i,field:p,messages:v},s),s||(a=!1)}}var A={event:i,validator:d,trigger:e};return e===t.prototype.VALIDATE_ON_FORM_SUBMIT?A.form=d.trigger:e===t.prototype.VALIDATE_ON_BUTTON_CLICK&&(A.button=d.trigger),d.callFormFunctions(A,a),void 0!==d.after&&d.after({event:i,valid:a,trigger:e}),a},this.callValidationFunctions=function(t,i){i?void 0!==d.validValidation&&d.validValidation(t):void 0!==d.invalidValidation&&d.invalidValidation(t)},this.callFieldFunctions=function(t,i){i?void 0!==d.validField&&d.validField(t):void 0!==d.invalidField&&d.invalidField(t)},this.callFormFunctions=function(t,i){i?void 0!==d.validForm&&(delete t.message,d.validForm(t)):(void 0!==t.event&&"submit"===t.event.type.toLowerCase()&&t.event.preventDefault(),void 0!==d.invalidForm&&d.invalidForm(t))};for(var n=!1,l=0;l<d.validationTriggers.length;l++)(d.validationTriggers[l]===t.prototype.VALIDATE_ON_FORM_SUBMIT||d.validationTriggers[l]===t.prototype.VALIDATE_ON_BUTTON_CLICK||d.validationTriggers[l]===t.prototype.VALIDATE_ON_CUSTOM_EVENT)&&(n=!0,o(d.validationTriggers[l]));if(!n)try{o(t.prototype.VALIDATE_ON_FORM_SUBMIT)}catch(s){try{o(t.prototype.VALIDATE_ON_BUTTON_CLICK)}catch(s){for(var v=!1,l=0;l<d.validationTriggers.length;l++)d.validationTriggers[l]===t.prototype.VALIDATE_ON_CUSTOM_EVENT&&(v=!0);if(v===!1)throw"No validation trigger found";if(void 0===r.validationCustomEvent||"function"!==(typeof r.validationCustomEvent).toLowerCase())throw"No validation trigger found";r.validationCustomEvent(d.validate)}}}function i(t){var r=this;this.field=t.field,null!==r.field&&void 0!==r.field?this.fieldType=e(r.field):this.fieldType=void 0,this.validationType=t.validationType,this.parameters=t.parameters,r.validationType===i.prototype.VALIDATION_TYPE_CUSTOM&&void 0!==r.parameters.id&&void 0!==r.parameters.method&&i.prototype.addCustomValidation({id:r.parameters.id,method:r.parameters.method}),this.validator=t.validator,this.message=t.message,this.applyValidation=function(){var t;switch(t=void 0!==r.parameters&&void 0!==r.parameters.trim&&r.parameters.trim===!1?r.field.val():null!==r.field.val()?r.field.val().trim():r.field.val(),r.validationType){case i.prototype.VALIDATION_TYPE_REQUIRED:return a(r.fieldType,["text","password","number","email","textarea"])?t.length>0:"select"===r.fieldType?void 0!==r.parameters&&void 0!==r.parameters.invalidRequiredValue?!(t===r.parameters.invalidRequiredValue):void 0!==r.parameters&&void 0!==r.parameters.checkRequiredMethod?r.parameters.checkRequiredMethod(t):isNaN(t)?!0:-1!==parseInt(t):!0;case i.prototype.VALIDATION_TYPE_NUMBER:return!isNaN(t);case i.prototype.VALIDATION_TYPE_INT:var e=r.field.val().trim().length;if(0===e)return!0;if(isNaN(t))return!1;var o=/^-?\d+?$/.test(t);if(o){var d=parseInt(t);if(isNaN(d))return!1;if(void 0===r.parameters)return!0;var n=r.parameters.min,l=r.parameters.max;return void 0!==n&&n>d?!1:void 0!==l&&d>l?!1:!0}return!1;case i.prototype.VALIDATION_TYPE_DECIMAL:var e=t.length;if(e>0){var s=".",v=2;void 0!==r.parameters&&void 0!==r.parameters.separator&&(s=r.parameters.separator),"."===s&&(s="\\."),void 0!==r.parameters&&void 0!==r.parameters.decimales&&(v=parseInt(r.parameters.decimales)),1>v&&(v=1);var p=new RegExp("^\\d+(?:"+s+"\\d{1,"+v+"})?$").test(t);if(p){var n=Number.MIN_VALUE,l=Number.MAX_VALUE;void 0!==r.parameters&&void 0!==r.parameters.max&&(l=parseFloat(r.parameters.max)),void 0!==r.parameters&&void 0!==r.parameters.min&&(n=parseFloat(r.parameters.min));var T=parseFloat(t);return T>=n&&l>=T}return!1}return!0;case i.prototype.VALIDATION_TYPE_LENGTH:var _=t.length;if(void 0===r.parameters)return!1;var n=r.parameters.min,l=r.parameters.max;return void 0===n&&void 0===l?!1:void 0!==n&&n>_?!1:void 0!==l&&_>l?!1:!0;case i.prototype.VALIDATION_TYPE_VALUE:if(isNaN(t))return!1;if(void 0===r.parameters)return!1;var u=parseFloat(t);if(isNaN(u))return!1;var n=r.parameters.min,l=r.parameters.max;return void 0===n&&void 0===l?!1:void 0!==n&&n>u?!1:void 0!==l&&u>l?!1:!0;case i.prototype.VALIDATION_TYPE_EMAIL:if(t.length>0){if(void 0===r.parameters||void 0!==r.parameters&&void 0===r.parameters.format)return/^[a-zA-Z0-9\._%\+-]+@[a-zA-Z_0-9.-]+\.[a-zA-Z]{2,}$/.test(t);var A=r.parameters.format;return void 0===A?!1:A.test(t)}return!0;case i.prototype.VALIDATION_TYPE_RADIO_GROUP:var f=!1;if(void 0!==r.parameters&&void 0!==r.parameters.group){var I=r.parameters.group;$("input[type='radio'][name='"+I+"']").each(function(){$(this).is(":checked")&&(f=!0)})}else r.field.find("input[type='radio']").each(function(){$(this).is(":checked")&&(f=!0)});return r.validator.hasValidation(r.field,i.prototype.VALIDATION_TYPE_REQUIRED)?f:!0;case i.prototype.VALIDATION_TYPE_GROUP:if(void 0===r.parameters)return!1;if(void 0===r.parameters.group)return!1;if(void 0===r.parameters.type)return!1;var m=r.parameters.type,I=r.parameters.group,E=0;$("input[type='"+m+"'][name='"+I+"']").each(function(){$(this).is(":checked")&&E++});var n=r.parameters.min,l=r.parameters.max;return void 0===n&&void 0===l?E>=1:void 0!==n&&n>E?!1:void 0!==l&&E>l?!1:!0;case i.prototype.VALIDATION_TYPE_CHECKBOX_GROUP:var E=0;if(void 0!==r.parameters&&void 0!==r.parameters.group){var I=r.parameters.group;$("input[type='checkbox'][name='"+I+"']").each(function(){$(this).is(":checked")&&E++})}else r.field.find("input[type='checkbox']").each(function(){$(this).is(":checked")&&E++});if(r.validator.hasValidation(r.field,i.prototype.VALIDATION_TYPE_REQUIRED)){if(void 0===r.parameters)return E>=1;var n=r.parameters.min,l=r.parameters.max;if(void 0===n&&void 0===l)return E>=1;if(void 0!==n&&n>E)return!1;if(void 0!==l&&E>l)return!1}return!0;case i.prototype.VALIDATION_TYPE_CUSTOM:if(void 0===r.parameters)return!1;var g=r.parameters.id;if(void 0===g)return!1;var V=i.prototype.getCustomValidation(g);if(void 0===V||null===V)return!1;var N=r.parameters.parameters;return void 0!==N?V.method(r.field,N):V.method(r.field);case i.prototype.VALIDATION_TYPE_COMPARE:return!1;case i.prototype.VALIDATION_TYPE_DATE:if(void 0===r.parameters)return!1;var A=r.parameters.format;if(void 0===A)return!1;if(""===t)return!0;switch(A){case"dd/mm":return/^(0?[1-9]|[12][0-9]|3[01])[\/](0?[1-9]|1[012])$/.test(t);case"mm/aaaa":return/^(0?[1-9]|1[012])[\/]\d{4}$/.test(t);case"aaaa":return/^\d{4}$/.test(t);default:return!1}break;default:return!1}},this.validate=function(){return r.applyValidation()}}function e(t){return"input"===t.get(0).tagName.toLowerCase()?t.get(0).type.toLowerCase():t.get(0).tagName.toLowerCase()}function a(t,i){for(var e=0;e<i.length;e++)if(t===i[e])return!0;return!1}function r(t,e){var a=this;this.id=t,this.validator=e,this.addValidation=function(t,e,r){var o=null;t.length>1&&(o=t,t=$(t.get(0)),o=o.slice(1,o.length));var d=void 0,n=void 0;if(void 0!==r){void 0!==r.message&&(d=r.message),void 0!==r.required&&r.required===!0&&a.validator.addValidation({field:t,validations:[{validationType:i.prototype.VALIDATION_TYPE_REQUIRED}]});var l=!1;for(var s in r)"message"!==s&&"required"!==s&&(l===!1&&(n={}),n[s]=r[s],l=!0)}a.validator.addValidation({field:t,validations:[{validationType:e,parameters:n,message:d}]}),void 0!==o&&null!==o&&o.length>=1&&this.addValidation(o,e,r)},this.removeValidation=function(t,i){a.validator.removeValidationForField(t,i)}}if("undefined"==typeof jQuery)throw new Error("ValidatorJS's JavaScript requires jQuery");var o={};return t.prototype.VALIDATE_ON_FORM_SUBMIT=0,t.prototype.VALIDATE_ON_BUTTON_CLICK=1,t.prototype.VALIDATE_ON_FIELD_BLUR=2,t.prototype.VALIDATE_ON_FIELD_CHANGE=3,t.prototype.VALIDATE_ON_CUSTOM_EVENT=4,i.prototype.VALIDATION_TYPE_REQUIRED=0,i.prototype.VALIDATION_TYPE_LENGTH=1,i.prototype.VALIDATION_TYPE_NUMBER=2,i.prototype.VALIDATION_TYPE_INT=3,i.prototype.VALIDATION_TYPE_DECIMAL=4,i.prototype.VALIDATION_TYPE_VALUE=5,i.prototype.VALIDATION_TYPE_EMAIL=6,i.prototype.VALIDATION_TYPE_GROUP=7,i.prototype.VALIDATION_TYPE_RADIO_GROUP=8,i.prototype.VALIDATION_TYPE_CHECKBOX_GROUP=9,i.prototype.VALIDATION_TYPE_CUSTOM=10,i.prototype.VALIDATION_TYPE_COMPARE=11,i.prototype.VALIDATION_TYPE_DATE=12,i.prototype.customValidations=[],i.prototype.addCustomValidation=function(t){return null===i.prototype.getCustomValidation(t.id)?(i.prototype.customValidations.push({id:t.id,method:t.method}),!0):!1},i.prototype.getCustomValidation=function(t){for(var e=0;e<i.prototype.customValidations.length;e++){var a=i.prototype.customValidations[e];if(t===a.id)return a}return null},i.prototype.removeCustomValidation=function(t){for(var e=0;e<i.prototype.customValidations.length;e++){var a=i.prototype.customValidations[e];if(t===a.id)return i.prototype.customValidations.slice(e,1),!0}return!1},o.validators=[],o.createValidator=function(i){var e=new r(o.validators.length,new t(i));return o.validators.push(e),e},o.addCustomValidation=function(t,e){return i.prototype.addCustomValidation({id:t,method:e})},o.getCustomValidation=function(t){return i.prototype.getCustomValidation(t)},o.removeCustomValidation=function(t){return i.prototype.removeCustomValidation(t)},o.VALIDATE_ON_FORM_SUBMIT=t.prototype.VALIDATE_ON_FORM_SUBMIT,o.VALIDATE_ON_BUTTON_CLICK=t.prototype.VALIDATE_ON_BUTTON_CLICK,o.VALIDATE_ON_FIELD_BLUR=t.prototype.VALIDATE_ON_FIELD_BLUR,o.VALIDATE_ON_FIELD_CHANGE=t.prototype.VALIDATE_ON_FIELD_CHANGE,o.VALIDATE_ON_CUSTOM_EVENT=t.prototype.VALIDATE_ON_CUSTOM_EVENT,o.VALIDATION_TYPE_REQUIRED=i.prototype.VALIDATION_TYPE_REQUIRED,o.VALIDATION_TYPE_LENGTH=i.prototype.VALIDATION_TYPE_LENGTH,o.VALIDATION_TYPE_NUMBER=i.prototype.VALIDATION_TYPE_NUMBER,o.VALIDATION_TYPE_INT=i.prototype.VALIDATION_TYPE_INT,o.VALIDATION_TYPE_DECIMAL=i.prototype.VALIDATION_TYPE_DECIMAL,o.VALIDATION_TYPE_VALUE=i.prototype.VALIDATION_TYPE_VALUE,o.VALIDATION_TYPE_EMAIL=i.prototype.VALIDATION_TYPE_EMAIL,o.VALIDATION_TYPE_GROUP=i.prototype.VALIDATION_TYPE_GROUP,o.VALIDATION_TYPE_RADIO_GROUP=i.prototype.VALIDATION_TYPE_RADIO_GROUP,o.VALIDATION_TYPE_CHECKBOX_GROUP=i.prototype.VALIDATION_TYPE_CHECKBOX_GROUP,o.VALIDATION_TYPE_DATE=i.prototype.VALIDATION_TYPE_DATE,o.VALIDATION_TYPE_CUSTOM=i.prototype.VALIDATION_TYPE_CUSTOM,o}();
