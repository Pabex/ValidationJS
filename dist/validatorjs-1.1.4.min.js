var ValidatorJS=function(){function b(a){function g(c){if(c===b.prototype.VALIDATE_ON_FORM_SUBMIT){if(void 0===f.trigger||"form"!==f.trigger[0].tagName.toLowerCase())throw"No validation event callback found correct for VALIDATE_ON_FORM_SUBMIT validation type";f.trigger.submit(function(a){f.validate(a,c)})}else if(c===b.prototype.VALIDATE_ON_BUTTON_CLICK){if(void 0===f.trigger||!e(f.trigger[0].tagName.toLowerCase(),["button","input"]))throw"No validation event callback found correct for VALIDATE_ON_BUTTON_CLICK validation type";var g=!0;"input"!==f.trigger[0].tagName.toLowerCase()||e(d(f.trigger).toLowerCase(),["button","submit"])||(g=!1),g&&f.trigger.click(function(a){f.validate(a,c)})}else{if(c!==b.prototype.VALIDATE_ON_CUSTOM_EVENT)throw"No validation event trigger found. Given: "+c;if(void 0===a.validationCustomEvent||"function"!==(typeof a.validationCustomEvent).toLowerCase())throw"No validation event callback found correct for VALIDATE_ON_CUSTOM_EVENT validation type";a.validationCustomEvent(f.validate)}}var f=this;this.trigger=a.form||a.button||void 0,this.message=a.message,this.validationTriggers=a.triggers||[],this.before=a.before,this.after=a.after,this.validationTriggersForFields={},this.validations={},this.addValidationForField=function(a,b){var c=a.get(0).id,d=0,e=!1;for(var g in f.validations){if(g===c){e=!0;for(var h=!1,i=0;i<f.validations[c].length;i++)f.validations[c][i].validationType===b.validationType&&(h=!0);h||f.validations[c].push(b)}d++}0!==d&&e||(f.validations[c]=[b])},this.getValidation=function(a,b){var c=a.get(0).id;for(var d in f.validations)if(d===c)for(var e=0;e<f.validations[c].length;e++)if(f.validations[c][e].validationType===b)return f.validations[c][e];return null},this.hasValidation=function(a,b){return null!==f.getValidation(a,b)},this.removeValidationForField=function(a,b){var c=a.get(0).id;for(var d in f.validations)if(d===c)for(var e=0;e<f.validations[c].length;e++)f.validations[c][e].validationType===b&&f.validations[c].splice(e,1)},this.addValidation=function(a){for(var e=0;e<a.validations.length;e++)f.addValidationForField(a.field,new c({field:a.field,validationType:a.validations[e].validationType,parameters:a.validations[e].parameters,validator:f,message:a.validations[e].message}));for(var g=function(a,b){for(var c=!0,d=f.validations[b],e=[],g=0;g<d.length;g++){var h=d[g],i=h.validate();f.callValidationFunctions({event:a,validation:h,field:h.field,message:h.message},i),i||(c=!1),void 0!==h.message&&i===!1&&e.push(h.message)}f.callFieldFunctions({event:a,field:h.field,messages:e},c)},e=0;e<f.validationTriggers.length;e++){var h=f.validationTriggers[e],i=!1;for(var j in f.validationTriggersForFields)if(j===a.field.get(0).id)for(var k=0;k<f.validationTriggersForFields[j].length;k++)f.validationTriggersForFields[j][k]===h&&(i=!0);if(i===!1){switch(h){case b.prototype.VALIDATOR_SUBMIT:break;case b.prototype.VALIDATE_ON_FIELD_BLUR:for(var l in f.validations)if(l===a.field.get(0).id){var m=d(a.field);"div"===m?a.field.find("input").blur(function(b){g(b,a.field.get(0).id)}):a.field.blur(function(b){g(b,a.field.get(0).id)})}break;case b.prototype.VALIDATE_ON_FIELD_CHANGE:for(l in f.validations)if(l===a.field.get(0).id){var m=d(a.field);a.field.change(function(b){g(b,a.field.get(0).id)})}}void 0===f.validationTriggersForFields[a.field.get(0).id]?f.validationTriggersForFields[a.field.get(0).id]=[h]:f.validationTriggersForFields[a.field.get(0).id].push(h)}}},this.addValidationTrigger=function(a){for(var b=0;b<f.validationTriggers.length;b++)if(a===f.validationTriggers[b])return!1;return f.validationTriggers.push(a),g(a),!0},this.validValidation=a.validValidation,this.invalidValidation=a.invalidValidation,this.validField=a.validField,this.invalidField=a.invalidField,this.validForm=a.validForm,this.invalidForm=a.invalidForm,this.validate=function(a,c){var d=!0;if(void 0!==f.before){var e=[];for(var g in f.validations)e.push(g);f.before({event:a,fields:e,trigger:c})}for(var h in f.validations){var i=f.validations[h];if(0!==i.length){for(var j=!0,k=[],l=null,m=0;m<i.length;m++){var n=i[m];l=n.field;var o=n.validate();f.callValidationFunctions({event:a,validation:n,field:n.field,message:n.message},o),o||(j=!1,void 0!==n.message&&o===!1&&k.push(n.message))}f.callFieldFunctions({event:a,field:l,messages:k},j),j||(d=!1)}}var p={event:a,validator:f,trigger:c};return c===b.prototype.VALIDATE_ON_FORM_SUBMIT?p.form=f.trigger:c===b.prototype.VALIDATE_ON_BUTTON_CLICK&&(p.button=f.trigger),f.callFormFunctions(p,d),void 0!==f.after&&f.after({event:a,valid:d,trigger:c}),d},this.callValidationFunctions=function(a,b){b?void 0!==f.validValidation&&f.validValidation(a):void 0!==f.invalidValidation&&f.invalidValidation(a)},this.callFieldFunctions=function(a,b){b?void 0!==f.validField&&f.validField(a):void 0!==f.invalidField&&f.invalidField(a)},this.callFormFunctions=function(a,b){b?void 0!==f.validForm&&(delete a.message,f.validForm(a)):(void 0!==a.event&&"submit"===a.event.type.toLowerCase()&&a.event.preventDefault(),void 0!==f.invalidForm&&f.invalidForm(a))};for(var h=!1,i=0;i<f.validationTriggers.length;i++)f.validationTriggers[i]!==b.prototype.VALIDATE_ON_FORM_SUBMIT&&f.validationTriggers[i]!==b.prototype.VALIDATE_ON_BUTTON_CLICK&&f.validationTriggers[i]!==b.prototype.VALIDATE_ON_CUSTOM_EVENT||(h=!0,g(f.validationTriggers[i]));if(!h)try{g(b.prototype.VALIDATE_ON_FORM_SUBMIT)}catch(c){try{g(b.prototype.VALIDATE_ON_BUTTON_CLICK)}catch(c){for(var j=!1,i=0;i<f.validationTriggers.length;i++)f.validationTriggers[i]===b.prototype.VALIDATE_ON_CUSTOM_EVENT&&(j=!0);if(j===!1)throw"No validation trigger found";if(void 0===a.validationCustomEvent||"function"!==(typeof a.validationCustomEvent).toLowerCase())throw"No validation trigger found";a.validationCustomEvent(f.validate)}}}function c(a){var b=this;this.field=a.field,null!==b.field&&void 0!==b.field?this.fieldType=d(b.field):this.fieldType=void 0,this.validationType=a.validationType,this.parameters=a.parameters,b.validationType===c.prototype.VALIDATION_TYPE_CUSTOM&&void 0!==b.parameters.id&&void 0!==b.parameters.method&&c.prototype.addCustomValidation({id:b.parameters.id,method:b.parameters.method}),this.validator=a.validator,this.message=a.message,this.applyValidation=function(){var a;switch(a=void 0!==b.parameters&&void 0!==b.parameters.trim&&b.parameters.trim===!1?b.field.val():null!==b.field.val()?b.field.val().trim():b.field.val(),b.validationType){case c.prototype.VALIDATION_TYPE_REQUIRED:return e(b.fieldType,["text","password","number","email","textarea"])?a.length>0:"select"!==b.fieldType||(void 0!==b.parameters&&void 0!==b.parameters.invalidRequiredValue?!(a===b.parameters.invalidRequiredValue):void 0!==b.parameters&&void 0!==b.parameters.checkRequiredMethod?b.parameters.checkRequiredMethod(a):!!isNaN(a)||parseInt(a)!==-1);case c.prototype.VALIDATION_TYPE_NUMBER:return!isNaN(a);case c.prototype.VALIDATION_TYPE_INT:var d=b.field.val().trim().length;if(0===d)return!0;if(isNaN(a))return!1;var f=/^-?\d+?$/.test(a);if(f){var g=parseInt(a);if(isNaN(g))return!1;if(void 0===b.parameters)return!0;var h=b.parameters.min,i=b.parameters.max;return!(void 0!==h&&g<h)&&!(void 0!==i&&g>i)}return!1;case c.prototype.VALIDATION_TYPE_DECIMAL:var d=a.length;if(d>0){var j=".",k=2;void 0!==b.parameters&&void 0!==b.parameters.separator&&(j=b.parameters.separator),"."===j&&(j="\\."),void 0!==b.parameters&&void 0!==b.parameters.decimales&&(k=parseInt(b.parameters.decimales)),k<1&&(k=1);var l=new RegExp("^\\d+(?:"+j+"\\d{1,"+k+"})?$").test(a);if(l){var h=Number.MIN_VALUE,i=Number.MAX_VALUE;void 0!==b.parameters&&void 0!==b.parameters.max&&(i=parseFloat(b.parameters.max)),void 0!==b.parameters&&void 0!==b.parameters.min&&(h=parseFloat(b.parameters.min));var m=parseFloat(a);return h<=m&&m<=i}return!1}return!0;case c.prototype.VALIDATION_TYPE_LENGTH:var n=a.length;if(void 0===b.parameters)return!1;var h=b.parameters.min,i=b.parameters.max;return(void 0!==h||void 0!==i)&&(!(void 0!==h&&n<h)&&!(void 0!==i&&n>i));case c.prototype.VALIDATION_TYPE_VALUE:if(isNaN(a))return!1;if(void 0===b.parameters)return!1;var o=parseFloat(a);if(isNaN(o))return!1;var h=b.parameters.min,i=b.parameters.max;return(void 0!==h||void 0!==i)&&(!(void 0!==h&&o<h)&&!(void 0!==i&&o>i));case c.prototype.VALIDATION_TYPE_EMAIL:if(a.length>0){if(void 0===b.parameters||void 0!==b.parameters&&void 0===b.parameters.format)return/^[a-zA-Z0-9\._%\+-]+@[a-zA-Z_0-9.-]+\.[a-zA-Z]{2,}$/.test(a);var p=b.parameters.format;return void 0!==p&&p.test(a)}return!0;case c.prototype.VALIDATION_TYPE_RADIO_GROUP:var q=!1;if(void 0!==b.parameters&&void 0!==b.parameters.group){var r=b.parameters.group;$("input[type='radio'][name='"+r+"']").each(function(){$(this).is(":checked")&&(q=!0)})}else b.field.find("input[type='radio']").each(function(){$(this).is(":checked")&&(q=!0)});return!b.validator.hasValidation(b.field,c.prototype.VALIDATION_TYPE_REQUIRED)||q;case c.prototype.VALIDATION_TYPE_GROUP:if(void 0===b.parameters)return!1;if(void 0===b.parameters.group)return!1;if(void 0===b.parameters.type)return!1;var s=b.parameters.type,r=b.parameters.group,t=0;$("input[type='"+s+"'][name='"+r+"']").each(function(){$(this).is(":checked")&&t++});var h=b.parameters.min,i=b.parameters.max;return void 0===h&&void 0===i?t>=1:!(void 0!==h&&t<h)&&!(void 0!==i&&t>i);case c.prototype.VALIDATION_TYPE_CHECKBOX_GROUP:var t=0;if(void 0!==b.parameters&&void 0!==b.parameters.group){var r=b.parameters.group;$("input[type='checkbox'][name='"+r+"']").each(function(){$(this).is(":checked")&&t++})}else b.field.find("input[type='checkbox']").each(function(){$(this).is(":checked")&&t++});if(b.validator.hasValidation(b.field,c.prototype.VALIDATION_TYPE_REQUIRED)){if(void 0===b.parameters)return t>=1;var h=b.parameters.min,i=b.parameters.max;if(void 0===h&&void 0===i)return t>=1;if(void 0!==h&&t<h)return!1;if(void 0!==i&&t>i)return!1}return!0;case c.prototype.VALIDATION_TYPE_CUSTOM:if(void 0===b.parameters)return!1;var u=b.parameters.id;if(void 0===u)return!1;var v=c.prototype.getCustomValidation(u);if(void 0===v||null===v)return!1;var w=b.parameters.parameters;return void 0!==w?v.method(b.field,w):v.method(b.field);case c.prototype.VALIDATION_TYPE_COMPARE:return!1;case c.prototype.VALIDATION_TYPE_DATE:if(void 0===b.parameters)return!1;var p=b.parameters.format;if(void 0===p)return!1;if(""===a)return!0;switch(p){case"dd/mm":return/^(0?[1-9]|[12][0-9]|3[01])[\/](0?[1-9]|1[012])$/.test(a);case"mm/aaaa":return/^(0?[1-9]|1[012])[\/]\d{4}$/.test(a);case"aaaa":return/^\d{4}$/.test(a);default:return!1}break;default:return!1}},this.validate=function(){return b.applyValidation()}}function d(a){return"input"===a.get(0).tagName.toLowerCase()?a.get(0).type.toLowerCase():a.get(0).tagName.toLowerCase()}function e(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return!0;return!1}function f(a,b){var d=this;this.id=a,this.validator=b,this.addValidation=function(a,b,e){var f=void 0,g=void 0;if(void 0!==e){void 0!==e.message&&(f=e.message),void 0!==e.required&&e.required===!0&&d.validator.addValidation({field:a,validations:[{validationType:c.prototype.VALIDATION_TYPE_REQUIRED}]});var h=!1;for(var i in e)"message"!==i&&"required"!==i&&(h===!1&&(g={}),g[i]=e[i],h=!0)}d.validator.addValidation({field:a,validations:[{validationType:b,parameters:g,message:f}]})},this.removeValidation=function(a,b){d.validator.removeValidationForField(a,b)}}if("undefined"==typeof jQuery)throw new Error("ValidatorJS's JavaScript requires jQuery");var a={};return b.prototype.VALIDATE_ON_FORM_SUBMIT=0,b.prototype.VALIDATE_ON_BUTTON_CLICK=1,b.prototype.VALIDATE_ON_FIELD_BLUR=2,b.prototype.VALIDATE_ON_FIELD_CHANGE=3,b.prototype.VALIDATE_ON_CUSTOM_EVENT=4,c.prototype.VALIDATION_TYPE_REQUIRED=0,c.prototype.VALIDATION_TYPE_LENGTH=1,c.prototype.VALIDATION_TYPE_NUMBER=2,c.prototype.VALIDATION_TYPE_INT=3,c.prototype.VALIDATION_TYPE_DECIMAL=4,c.prototype.VALIDATION_TYPE_VALUE=5,c.prototype.VALIDATION_TYPE_EMAIL=6,c.prototype.VALIDATION_TYPE_GROUP=7,c.prototype.VALIDATION_TYPE_RADIO_GROUP=8,c.prototype.VALIDATION_TYPE_CHECKBOX_GROUP=9,c.prototype.VALIDATION_TYPE_CUSTOM=10,c.prototype.VALIDATION_TYPE_COMPARE=11,c.prototype.VALIDATION_TYPE_DATE=12,c.prototype.customValidations=[],c.prototype.addCustomValidation=function(a){return null===c.prototype.getCustomValidation(a.id)&&(c.prototype.customValidations.push({id:a.id,method:a.method}),!0)},c.prototype.getCustomValidation=function(a){for(var b=0;b<c.prototype.customValidations.length;b++){var d=c.prototype.customValidations[b];if(a===d.id)return d}return null},c.prototype.removeCustomValidation=function(a){for(var b=0;b<c.prototype.customValidations.length;b++){var d=c.prototype.customValidations[b];if(a===d.id)return c.prototype.customValidations.slice(b,1),!0}return!1},a.validators=[],a.createValidator=function(c){var d=new f(a.validators.length,new b(c));return a.validators.push(d),d},a.addCustomValidation=function(a,b){return c.prototype.addCustomValidation({id:a,method:b})},a.getCustomValidation=function(a){return c.prototype.getCustomValidation(a)},a.removeCustomValidation=function(a){return c.prototype.removeCustomValidation(a)},a.VALIDATE_ON_FORM_SUBMIT=b.prototype.VALIDATE_ON_FORM_SUBMIT,a.VALIDATE_ON_BUTTON_CLICK=b.prototype.VALIDATE_ON_BUTTON_CLICK,a.VALIDATE_ON_FIELD_BLUR=b.prototype.VALIDATE_ON_FIELD_BLUR,a.VALIDATE_ON_FIELD_CHANGE=b.prototype.VALIDATE_ON_FIELD_CHANGE,a.VALIDATE_ON_CUSTOM_EVENT=b.prototype.VALIDATE_ON_CUSTOM_EVENT,a.VALIDATION_TYPE_REQUIRED=c.prototype.VALIDATION_TYPE_REQUIRED,a.VALIDATION_TYPE_LENGTH=c.prototype.VALIDATION_TYPE_LENGTH,a.VALIDATION_TYPE_NUMBER=c.prototype.VALIDATION_TYPE_NUMBER,a.VALIDATION_TYPE_INT=c.prototype.VALIDATION_TYPE_INT,a.VALIDATION_TYPE_DECIMAL=c.prototype.VALIDATION_TYPE_DECIMAL,a.VALIDATION_TYPE_VALUE=c.prototype.VALIDATION_TYPE_VALUE,a.VALIDATION_TYPE_EMAIL=c.prototype.VALIDATION_TYPE_EMAIL,a.VALIDATION_TYPE_GROUP=c.prototype.VALIDATION_TYPE_GROUP,a.VALIDATION_TYPE_RADIO_GROUP=c.prototype.VALIDATION_TYPE_RADIO_GROUP,a.VALIDATION_TYPE_CHECKBOX_GROUP=c.prototype.VALIDATION_TYPE_CHECKBOX_GROUP,a.VALIDATION_TYPE_DATE=c.prototype.VALIDATION_TYPE_DATE,a.VALIDATION_TYPE_CUSTOM=c.prototype.VALIDATION_TYPE_CUSTOM,a}();
